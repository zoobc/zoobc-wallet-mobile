<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Send money</ion-title>
    <ion-buttons slot="end" color="primary">
      <ion-button routerLink="/feedback">
        Feedback
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item>
    <h2>Send Money</h2>
  </ion-item>

  <ion-card>
    <ion-card-content>
      <ion-item>
        <ion-checkbox slot="start" [(ngModel)]="isTransaction"></ion-checkbox>
        <ion-label>Create transaction</ion-label>
      </ion-item>
      <ion-item>
        <ion-checkbox slot="start" [(ngModel)]="isSignature"></ion-checkbox>
        <ion-label>Add participants signature</ion-label>
      </ion-item>
      <!-- <ion-item> -->
      <ion-button slot="end" color="tertiary" [disabled]="!isTransaction && !isSignature" (click)="goNextStep()">Next
      </ion-button>
      <!-- </ion-item> -->
    </ion-card-content>
  </ion-card>

  <ion-item>
    <h5>Multisignature drafts</h5>
    <ion-button slot="end" color="secondary">
      Import draft
    </ion-button>
  </ion-item>

  <ion-grid>
    <div *ngFor="let draft of multiSigDrafts; let i = index"  (click)="onEditDraft(i)">
    <ion-row>
      <ion-col size="9">
        <ion-label>
          <h2>Draft ID: {{ draft.id }}</h2>
          <p><i>{{ doDateAgo(draft.id) }}</i></p>
        </ion-label>
      </ion-col>

      <ion-col size="3" class="ion-text-center">
        <ion-label *ngIf="draft.transaction">
          - {{ draft.transaction.amount | number: '0.0-2' }} ZBC
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row  *ngIf="draft.transaction">
      <ion-col>
        <ion-label>
          <h3>From</h3>
          <p> {{draft.transaction.sender}}</p>
        </ion-label>
        <ion-label>
          <h3>To</h3>
          <p> {{draft.transaction.recipient}}</p>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row  *ngIf="draft.signaturesInfo">
      <ion-col>
        <ion-label>
          <h3>Transaction Hash</h3>
          <p> {{draft.signaturesInfo.txHash}}</p>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row  *ngIf="draft.signaturesInfo">
      <ion-col>
        <ion-label>
          <h3>Signed By</h3>
          <p>
            <span>{{ draft.signaturesInfo.participants.length }} </span>
            <span *ngIf="draft.multisigInfo"> of {{ draft.multisigInfo.participants.length }}</span>
          </p>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px #cccccc solid;">
      <ion-col size="11">
        
        <ion-badge color="danger"  *ngIf="draft.multisigInfo" shape="round">
          Multisig info
        </ion-badge>&nbsp;
        <ion-badge color="danger"  *ngIf="draft.unisgnedTransactions" shape="round">
          Transaction
        </ion-badge>&nbsp;
        <ion-badge color="danger"  *ngIf="draft.signaturesInfo" shape="round">
          Signatures
        </ion-badge>
        
      </ion-col>
      <ion-col size="2" class="text-align-center">
        <ion-label (click)="onDeleteDraft($event, draft.id)" color="danger">
          <ion-icon name="trash"></ion-icon>
        </ion-label>
      </ion-col>
    </ion-row>
  </div>
  </ion-grid>

</ion-content>